fragment ClippingLayerDetails on DataLayer {
  id
  version
  mapboxGlStyles
  sourceLayer
  dataSource {
    id
    type
    url
    dataLibraryTemplateId
    createdAt
    authorProfile {
      ...UserProfileDetails
    }
    outputs {
      id
      type
      url
    }
  }
}

fragment GeographyDetails on Geography {
  id
  hash
  name
  translatedProps
  clientTemplate
  clippingLayers {
    id
    operationType
    templateId
    cql2Query
    dataLayer {
      ...ClippingLayerDetails
    }
  }
}

query GeographyClippingSettings($slug: String!) {
  gmapssatellitesession {
    expiresAt
    mapType
    session
  }
  geographyClippingLayers {
    ...ClippingLayerDetails
  }
  projectBySlug(slug: $slug) {
    id
    geographies {
      id
      name
      createdAt
      hash
      clientTemplate
      clippingLayers {
        id
        cql2Query
        templateId
      }
    }
  }
  geographies {
    ...GeographyDetails
  }
}

query EEZLayer {
  eezlayer {
    id
    dataLayer {
      id
      dataSource {
        id
        url
        type
        geostats
      }
    }
  }
}

mutation CreateGeographies($geographies: [CreateGeographyArgs!]!) {
  createGeographies(input: $geographies) {
    geographies {
      id
      name
      createdAt
      hash
      projectId
      clippingLayers {
        id
        cql2Query
        templateId
        operationType
        projectGeographyId
        dataLayer {
          id
          dataSource {
            id
            type
            url
            dataLibraryTemplateId
            createdAt
            authorProfile {
              ...UserProfileDetails
            }
          }
        }
      }
    }
  }
}
